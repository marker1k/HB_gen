<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="lib/codemirror.css">
    <script src="lib/codemirror.js"></script>
    <script src="mode/xml/xml.js"></script>
    <script src="mode/javascript/javascript.js"></script>
    <script src="mode/css/css.js"></script>
    <script src="mode/vbscript/vbscript.js"></script>
    <script src="mode/htmlmixed/htmlmixed.js"></script>
    <script src="clipboard.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Yandex HB Config Generator</title>
    <link rel="stylesheet" href="style.css">
    <script src="conf.js"></script>
</head>

<body>
    <div class="header">Генератор конфигурационного скрипта для Header Bidding</div>
    <div id="mainError">ERROR</div>
    <div class="form">
        <div id="biddersMap">
            <h3>Учаcтники торгов  <span class="desc">(Bidders Map)</span></h3>
            <div id="biddersMapInner"></div>
            <button id="addBiddersMapUiElement" onclick="addBiddersMapUiElement(this);">Добавить</button>
        </div>
        <br>
        <hr>
        <div id="adUnits">
            <h3>Рекламные блоки <span class="desc">(Ad Units)</span></h3>
            <div id="adUnitsInner"></div>
            <button id="addAdUnitsUiElement" onclick="addAdUnitsUiElement();createBiddersInUseArray();">Добавить</button>
        </div>
        <br>
        <hr>
        <h3>Время ответа <span class="desc">(User timeout)</span></h3>
        <p style="font-size: 15px;color: gray;">Время ожидания ответа от сервера покупателя, рекомендуемое время 500 мс (максимально возможное 3000 мс, но в таком случае скорость загрузки основного контента сайта будет производится с задержкой.</p>
        <input id="userTimeout" placeholder="500" value="500">
    </div>
    <div class="container">
        <div id="result">
            <h3>Скрипт</h3>
            <button class="generate" onclick="">Генерация</button>
            <button class="copyToClipboard">Copy</button>
            <span class="error" id="generateError">Заполните все поля</span>
            <br>
            <form>
                <textarea id="result_textarea" disabled="disabled"></textarea>
            </form>
        </div>
    </div>
    <script type="text/javascript">

    document.querySelector(".generate").addEventListener("click", function() {
        makeInstall();
    }, false)
    </script>
    <script type="text/javascript">
    var editorSelector = '#result_textarea';
    new ClipboardJS('.copyToClipboard', {
        text: function(trigger) {
            return getCodeMirrorNative(editorSelector).getDoc().getValue();
        }
    });
    </script>
</body>

</html>